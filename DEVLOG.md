# Журнал разработчика (Devlog) — Streamers Universe

## Версия: PRE-ALFA 0.3.2
- Дата: 9 марта 2024

### Кроссплатформенное хранение данных
- Разработана новая система хранения данных, работающая одинаково на всех платформах
- Добавлена поддержка серверного хранения с JWT-аутентификацией
- Реализован механизм безопасного резервного хранения в cookies
- Добавлена автоматическая миграция данных из устаревшего локального хранилища

### Улучшение безопасности
- Внедрена JWT-аутентификация для безопасного доступа к данным пользователя
- Переработан механизм хранения токенов и чувствительных данных
- Удалены небезопасные методы сохранения данных в localStorage

### Технические улучшения
- Создана база данных для хранения пользовательских данных
- Разработаны API-эндпоинты для сохранения и получения данных
- Добавлен механизм экспорта и очистки данных пользователя
- Реализована система автоматического восстановления при проблемах с сетью

### Документация
- Добавлена подробная документация по использованию новой системы хранения данных
- Созданы инструкции по настройке переменных окружения в Vercel

## Версия: PRE-ALFA 0.3.1
- Дата: 9 марта 2024

### Улучшения интерфейса
- Улучшен внешний вид кнопки "Вернуться к профилю" в разделе достижений
- Оптимизирована адаптивность интерфейса для различных устройств
- Исправлена проблема с отображением фолловеров стримера

### Технические улучшения
- Создан специальный API-роут для надежного получения данных о фолловерах
- Разработана утилита для безопасной работы с Twitch API
- Добавлено кэширование для обеспечения стабильной работы при проблемах с API
- Реализована подробная система обработки ошибок при загрузке данных

### Исправления
- Улучшено отображение статистических данных
- Переработан механизм получения фолловеров с использованием новых API-роутов
- Исправлены проблемы с загрузкой данных на мобильных устройствах

## Версия: PRE-ALFA 0.3.0
- Дата: 9 марта 2024

### Основные улучшения

#### Система отзывов стримеров о товарах
- Полностью переработана концепция отзывов: теперь это отзывы стримеров о товарах, а не отзывы о стримерах
- Добавлен новый компонент ReviewCard для отображения отзывов с рейтингом, плюсами и минусами
- Реализована система лайков и дизлайков для отзывов
- Добавлена возможность фильтрации отзывов по категориям
- Реализовано 12 категорий товаров: техника, игры, периферия, мебель, освещение и др.
- Добавлена возможность просмотра детальной информации о товаре в отзыве

#### Улучшения интерфейса
- Создан новый компонент поиска с современным дизайном
- Исправлено отображение иконок YouTube и Discord в социальных кнопках
- Улучшена адаптивность компонентов для мобильных устройств
- Добавлены анимации и эффекты при взаимодействии с элементами интерфейса

#### Технические улучшения
- Исправлена ошибка "Failed to fetch user data from Twitch API" при поиске
- Добавлена проверка наличия TWITCH_CLIENT_ID в переменных окружения
- Оптимизирована работа с API Twitch для более стабильной работы
- Улучшена обработка ошибок при получении данных

### Исправления
- Исправлено отображение иконки YouTube (увеличен размер и улучшена видимость)
- Скорректировано положение иконки Discord для лучшего выравнивания
- Исправлены проблемы с поиском пользователей
- Улучшена обработка ошибок авторизации

## Версия: PRE-ALFA 0.2.0
- Дата: 8 марта 2024

### Основные улучшения

#### Расширенная интеграция с Twitch API
- Добавлен новый API-эндпоинт `/api/twitch/user-stats` для получения расширенной статистики пользователя
- Реализовано получение и отображение:
  - Даты создания аккаунта и его возраста
  - Полной статистики подписчиков (followers) с пагинацией
  - Полной статистики подписок (followings) с пагинацией
  - Информации о текущем статусе стрима (онлайн/оффлайн)
  - Истории стримов с просмотрами и датами
  - Количества платных подписчиков (subscribers)

#### Улучшенный профиль пользователя
- Добавлена новая вкладка "Статистика" с подробной информацией о канале
- Реализовано отображение последних подписчиков с аватарами и датами подписки
- Добавлено отображение последних подписок с аватарами и датами
- Реализовано отображение последних стримов с превью, просмотрами и ссылками
- Добавлена информация о возрасте аккаунта и типе вещателя (партнер/аффилиат)
- Реализовано отображение статуса "В эфире" с анимацией

#### Система дня рождения
- Добавлена возможность указать день рождения в профиле
- Реализована система начисления 100 стример-коинов в день рождения
- Добавлено отображение поздравления с днем рождения в профиле
- Реализован обратный отсчет до дня рождения
- Добавлена возможность скрыть день рождения от других пользователей

#### Настройки видимости статистики
- Добавлена возможность настройки видимости различных элементов статистики:
  - Подписчиков
  - Подписок
  - Стримов
  - Статистики канала
  - Информации об аккаунте
- Настройки сохраняются в localStorage и применяются к профилю

#### Улучшения интерфейса
- Переработан интерфейс профиля с новыми кнопками и разделами
- Добавлены анимации и эффекты при наведении для всех элементов статистики
- Улучшена адаптивность для мобильных устройств
- Добавлены иконки и визуальные индикаторы для лучшего восприятия информации

#### Технические улучшения
- Полная миграция на App Router для улучшения производительности
- Оптимизация запросов к Twitch API с кешированием результатов
- Улучшена обработка ошибок при получении данных
- Добавлена поддержка локализации дат и чисел для русского языка

### Исправления
- Исправлена проблема с отображением статуса стримера
- Улучшено отображение социальных кнопок в профиле
- Исправлены конфликты между директориями pages и app
- Улучшена обработка ошибок авторизации

## Версия: PRE-ALFA 0.1.1
- Дата: 8 марта 2024
- Исправлена проблема с авторизацией:
  - Добавлена страница login.js, которая перенаправляет на страницу auth.js
  - Обновлены ссылки на страницу авторизации во всем приложении
  - Исправлена функция выхода из системы для корректного перенаправления

## Версия: PRE-ALFA 0.1
- Дата: 8 марта 2024

### Основные функции

#### Авторизация и профиль пользователя
- Реализована авторизация через Twitch API с использованием OAuth 2.0
- Создана страница профиля пользователя с отображением:
  - Аватара и имени пользователя
  - Статуса стримера (автоматически определяется при 150+ фолловерах)
  - Статистики Twitch (фолловеры, фолловинги, просмотры)
  - Статистики Streamers Universe (подписчики, подписки)
  - Социальных сетей с анимированными кнопками (Twitch, YouTube, Discord, Telegram, VK, Яндекс Музыка)
  - Описания канала
- Добавлена возможность редактирования профиля с сохранением данных в localStorage
- Реализована система достижений с различными типами (обычные, секретные, требующие статуса стримера)

#### Навигация и интерфейс
- Создана главная страница меню с пунктами: Поиск, Подписки, Подписчики, Профиль, Настройки, Сообщения
- Реализованы страницы для просмотра фолловеров и фолловингов Twitch
- Реализованы страницы для просмотра подписчиков и подписок Streamers Universe
- Добавлены кнопки возврата в меню на всех страницах для улучшения навигации
- Создана страница настроек с возможностью изменения темы и размера шрифта
- Добавлены страницы для обработки ошибки 404 с красивым дизайном и удобной навигацией

#### Поиск и взаимодействие с пользователями
- Реализован поиск пользователей Twitch с отображением результатов
- Добавлена возможность просмотра профилей других пользователей
- Реализована система подписок между пользователями Streamers Universe
- Создана система сообщений для общения между пользователями
- Добавлено отображение непрочитанных сообщений

#### Экономика и геймификация
- Реализована система стример-коинов с отображением баланса
- Добавлена возможность получения ежедневного бонуса (100 стример-коинов)
- Создана страница для просмотра истории транзакций
- Реализована система достижений с прогрессом и наградами

#### Медиа и отзывы
- Создана страница для добавления и просмотра медиа
- Реализована система отзывов и рейтингов
- Добавлены вкладки для просмотра медиа, отзывов и достижений пользователя

### Технические улучшения
- Миграция на Next.js 15.2.1 для улучшения производительности и безопасности
- Переход на App Router с сохранением совместимости с Pages Router
- Улучшена обработка ошибок авторизации и загрузки данных
- Добавлено резервное сохранение данных в localStorage
- Реализована адаптивность для мобильных устройств
- Добавлена поддержка Telegram Mini App
- Улучшена обработка CORS-заголовков в middleware
- Добавлена поддержка шрифта Inter с кириллицей

### Исправления и оптимизации
- Исправлены проблемы с отображением социальных сетей и описания в профиле
- Улучшена обработка токенов и состояния авторизации
- Исправлены проблемы с перенаправлением после авторизации
- Оптимизирована передача токена доступа между клиентом и сервером
- Исправлены ошибки сборки при деплое на Vercel
- Улучшена работа с localStorage для хранения данных пользователя, подписок и сообщений

### Дизайн и пользовательский опыт
- Реализован космический дизайн с анимированными звездами и градиентами
- Добавлены анимации и эффекты при взаимодействии с элементами интерфейса
- Улучшен пользовательский интерфейс с использованием синтвейв-стиля
- Добавлены плавные переходы между страницами
- Обновлена терминология: четко разделены понятия "Фолловеры"/"Фолловинги" (Twitch) и "Подписчики"/"Подписки" (Streamers Universe)
