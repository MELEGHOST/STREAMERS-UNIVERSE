# Журнал разработчика (Devlog) — Streamers Universe

## Версия PRE-ALFA 0.0.0.1
- Изначальная версия проекта с базовой авторизацией через Twitch и интерфейсом на английском.
- Добавлены звёзды, лogo, и базовая структура Next.js.

## Версия PRE-ALFA 0.0.0.2
- Исправлены проблемы с отображением кнопок, лogo и звёзд.
- Добавлена адаптация под Telegram Mini App.
- Улучшена авторизация через Twitch с поддержкой ролей (стример/подписчик).

## Версия PRE-ALFA 0.0.0.3
- Адаптирован интерфейс под мобильные устройства (уменьшен экран, особенно снизу).
- Переведены все кнопки и надписи на русский язык.
- Внедрена настоящая авторизация через Twitch API.
- Исправлена кнопка "Сменить профиль" для сброса авторизации.
- Упрощена регистрация подписчика (ввод никнейма Twitch и отображение подписок).
- Добавлены комментарии на русском в коде.
- Исправлены ошибки перенаправления после авторизации (перенос на профиль).
- Обновлён OAuth Redirect URL на dev.twitch.tv и в секретах Vercel.

## Версия PRE-ALPHA 0.0.0.4
- Дата: 2025-02-26
- Миграция проекта на Cloudflare Pages для решения проблемы лимитов Vercel (неограниченные деплои на бесплатном плане).
- Улучшения производительности: оптимизация под ресурсы Cloudflare Pages (до 1 GB RAM и более 0.6 CPU).
- Исправление ошибки сборки на Cloudflare Pages, добавив `npx next build` в `package.json`.
- Стабильность авторизации: корректное перенаправление на `/profile`, выбор ролей, и переключение профилей.
- Поддержка Telegram Mini App с корректным отображением интерфейса и функций.

## Версия PRE-ALPHA 0.0.0.5
- Дата: 2025-02-26
- Исправлена авторизация через Twitch, устранена бесконечная загрузка при входе.

## Версия: PRE-ALPHA 0.0.0.6
Дата: 28 февраля 2025
Изменения:
- Удалена начальная страница (/) с автоматическим редиректом на страницу авторизации (/auth) для бесшовного онбординга
- Улучшена авторизация через Twitch с добавлением надёжной обработки ошибок и отладочных логов
- Усовершенствован контекст авторизации (AuthContext) для лучшего управления состоянием
- Улучшен пользовательский интерфейс: логотип центрирован, добавлены плавные анимации, тёмный космический градиент с анимацией звёзд, пульсацией и метеорами
- Исправлена функциональность кнопки "Войти через Twitch" и убрано постоянное свечение
- Удалён ненужный favicon.ico
- Обновлены зависимости и обеспечена совместимость с CommonJS для деплоя на Vercel

## Версия: PRE-ALPHA 0.0.0.7
- Дата: 2025-03-01
- Переход на версию PRE-ALPHA 0.0.0.7.
- Исправлены ошибки импорта `authOptions` в API-роутах NextAuth.js (`pages/api/auth/me.js`, `pages/api/auth/twitch/callback.js`).
- Обновлена конфигурация NextAuth.js в `pages/api/auth/[...nextauth].js` для устранения ошибок 500 и 405, добавлены отладочные логи и проверки.
- Устранено предупреждение о SWC, обновлён `package-lock.json` для совместимости.
- Обновлены переменные окружения в Vercel для стабильной работы авторизации через Twitch.
- Переключены все страницы на CSS-модули для устранения проблем с `styled-components`.
- Добавлены отладочные сообщения для диагностики сессий и запросов.
- Исправлены пути импорта и синтаксические ошибки в API-роутах и клиентских компонентах.
- Добавлено появление нижнего меню (`pages/_app.js`) только после успешной авторизации через NextAuth.js для улучшения пользовательского опыта.
